# 图片裁剪与拼接工具

基于PyQt5和OpenCV实现的图片处理工具，支持图片的横向、竖向裁剪和拼接功能。

## 项目结构

```
拼接/
├── backend/                 # 后端模块
│   └── image_processor.py   # 图像处理逻辑
├── ui/                      # UI模块
│   └── main_window.py       # 主界面实现
├── main.py                  # 主程序入口
├── requirements.txt         # 依赖包列表
└── README.md               # 项目说明
```

## 功能特点

1. **图片加载与显示**
   - 支持多种图片格式（PNG、JPG、JPEG、BMP、TIFF）
   - 自适应窗口大小的图片显示

2. **图片裁剪**
   - 鼠标拖拽选择裁剪区域
   - 支持多个裁剪区域的管理
   - 可重置为原始图片

3. **图片拼接**
   - 支持水平拼接和垂直拼接
   - 可调整拼接间距
   - 自动居中对齐

4. **用户界面**
   - 清晰的UI和后端分离架构
   - 直观的操作界面
   - 实时状态显示

## 安装与运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
python main.py
```

## 使用说明

1. **加载图片**
   - 点击"加载图片"按钮，选择要处理的图片

2. **裁剪图片**
   - 在图片显示区域用鼠标拖拽选择要裁剪的区域
   - 点击"裁剪选中区域"按钮完成裁剪
   - 裁剪后的图片会添加到左侧的裁剪列表中

3. **拼接图片**
   - 选择拼接方向（水平或垂直）
   - 设置拼接间距
   - 点击"拼接裁剪图片"按钮完成拼接
   - 切换到"拼接图片"标签页查看结果

4. **保存图片**
   - 点击"保存当前图片"保存当前显示的图片
   - 点击"保存拼接图片"保存拼接后的图片

## 技术实现

- **前端UI**: PyQt5
- **图像处理**: OpenCV
- **架构设计**: MVC模式，UI与业务逻辑分离
- **核心组件**:
  - `ImageProcessor`: 负责所有图像处理操作
  - `ImageDisplayWidget`: 自定义图片显示控件，支持区域选择
  - `MainWindow`: 主窗口，负责UI交互

## 扩展功能

可以轻松扩展以下功能：
- 图片滤镜效果
- 批量处理
- 更多拼接模式
- 图片旋转和缩放
- 撤销/重做操作

## 注意事项

1. 确保安装了正确版本的依赖包
2. 图片文件路径中不要包含特殊字符
3. 大图片处理可能需要较长时间，请耐心等待

## 许可证

MIT License